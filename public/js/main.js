!function(e){var t={};function o(n){if(t[n])return t[n].exports;var r=t[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,o),r.l=!0,r.exports}o.m=e,o.c=t,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)o.d(n,r,function(t){return e[t]}.bind(null,r));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="",o(o.s=0)}([function(e,t,o){"use strict";o.r(t);const n=new Worker("js/worker.js");n.onmessage=function(e){const t=document.querySelector("#solution"),o=e.data.solutionArray;if(!!o){for(const[e,t]of o.entries()){const o=Math.floor(e/9),n=e%9,r=document.querySelector(`#row${o}col${n}input`);r.value||(r.classList.add("generated"),r.value=t)}const e=o.join("");t.value=e}else t.value="There are no solutions.";const n=e.data.boardString;if(location.search.substring(1)!==n){history.pushState(null,null,window.location.href.split("?")[0]),document.querySelector("#permalink").removeAttribute("disabled")}};var r,u,c=()=>{const e=document.querySelector("table");for(let t=0;t<9;t++){const o=e.insertRow(-1);for(let e=0;e<9;e++){const n=o.insertCell(-1),r=t%3==0?"top":t%3==2?"bottom":null,u=e%3==0?"left":e%3==2?"right":null;r&&n.classList.add(r),u&&n.classList.add(u);const c=document.createElement("input");c.classList.add("manualInput"),c.id=`row${t}col${e}input`,c.addEventListener("input",function(){if(this.value){if(!Number.isInteger(+this.value)||+this.value<1||+this.value>9)return this.value="",void this.classList.add("warning");this.classList.remove("generated"),this.value=this.value.trim().slice(0,1),8!==e?document.querySelector(`#row${t}col${e+1}input`).focus():8!==t?document.querySelector(`#row${t+1}col0input`).focus():document.querySelector("#row0col0input").focus()}}),c.addEventListener("keyup",function(o){"ArrowRight"!==o.key&&"Right"!==o.key||(8!==e?document.querySelector(`#row${t}col${e+1}input`).focus():8!==t?document.querySelector(`#row${t+1}col0input`).focus():document.querySelector("#row0col0input").focus()),"ArrowLeft"!==o.key&&"Left"!==o.key&&"Backspace"!==o.key||(0!==e?document.querySelector(`#row${t}col${e-1}input`).focus():0!==t?document.querySelector(`#row${t-1}col8input`).focus():document.querySelector("#row8col8input").focus()),"ArrowUp"!==o.key&&"Up"!==o.key||(0!==t?document.querySelector(`#row${t-1}col${e}input`).focus():document.querySelector(`#row8col${e}input`).focus()),"ArrowDown"!==o.key&&"Down"!==o.key||(8!==t?document.querySelector(`#row${t+1}col${e}input`).focus():document.querySelector(`#row0col${e}input`).focus()),"Enter"===o.key&&document.querySelector("#submit").click()}),n.appendChild(c)}}},l=()=>{const e=document.querySelectorAll(".manualInput");for(const t of e)t.addEventListener("animationend",function(){this.classList.remove("warning")})},i=e=>{const t=e.replace(/[^0-9]/gi,"0");return 81===t.length&&Number.isInteger(+t)&&+t>=0},s=e=>{const t=e.split("");for(const[e,o]of t.entries()){const t=Math.floor(e/9),n=e%9,r=document.querySelector(`#row${t}col${n}input`);r.classList.remove("generated"),r.value=0==+o?"":o}document.querySelector("#permalink").removeAttribute("disabled")};c(),l(),r=c,u=l,document.querySelector("#clear").addEventListener("click",()=>{const e=document.querySelectorAll("tr");for(const t of e)t.remove();r(),u();const t=document.querySelector("#stringEntry");t.value=t.defaultValue;const o=document.querySelector("#solution");o.value=o.defaultValue,history.pushState(null,null,window.location.href.split("?")[0]),document.querySelector("#permalink").setAttribute("disabled","")}),(e=>{document.querySelector("#submit").addEventListener("click",function(){const t=document.querySelectorAll(".manualInput"),o=[];for(const e of t)e.value?o.push(e.value):o.push(0);const n=o.join("");document.querySelector("#stringEntry").value=n,document.querySelector("#solution").value="Loading...",e.postMessage(n)})})(n),(()=>{if(location.search){const e=location.search.substring(1);i(e)?(s(e),document.querySelector("#submit").click()):history.pushState(null,null,window.location.href.split("?")[0])}})(),(()=>{const e=document.querySelector("#stringEntry");e.addEventListener("input",function(){document.querySelector("#permalink").setAttribute("disabled",""),history.pushState(null,null,window.location.href.split("?")[0]);const e=this.value;if(i(e)){const t=e.replace(/[^0-9]/gi,"0");this.value=t,s(t)}}),e.addEventListener("keyup",function(e){if("Enter"===e.key){const e=document.querySelector("#submit");e.click()}})})(),document.querySelector("#permalink").addEventListener("click",()=>{const e=document.querySelector("#stringEntry").value;i(e)&&history.pushState(null,null,`?${e}`)})}]);